import{u as p,p as s,v as g,$ as c,x as d,n as T}from"./effector-storage-9a361a45.js";function P(r){var{timeout:k,start:m,stop:o,leading:$=!1,trailing:j=!1}=r,a=p({name:"tick",sid:"u782pl"}),t=s(!1,{name:"$isRunning",sid:"-xegewf"}),f=F(k),v=t.map(n=>!n),l=p({name:"saveTimeout",sid:"ab3q7d"}),b=s(null,{name:"$timeoutId",sid:"-aj5rja"}).on(l,(n,e)=>{var{timeoutId:i}=e;return i}),x=s(()=>{},{name:"$rejecter",sid:"opb0ih"}).on(l,(n,e)=>{var{reject:i}=e;return i}),u=g({and:{source:{timeout:f,running:t},effect:n=>{var{timeout:e,running:i}=n;return i?new Promise((I,y)=>{var R=setTimeout(I,e);l({timeoutId:R,reject:y})}):Promise.reject()}},or:{name:"timeoutFx",sid:"9hil7b"}}),w=g({and:{source:{timeoutId:b,rejecter:x},effect:n=>{var{timeoutId:e,rejecter:i}=n;i(),e&&clearTimeout(e)}},or:{name:"cleanupFx",sid:"-v02m7d"}});if(c({and:[{clock:m,source:f,filter:v,target:u}],or:{sid:"-vop0ii"}}),$){var h=c({and:[{clock:m,filter:v}],or:{name:"onReady",sid:"-cmw7lh"}});d({and:[{clock:h,target:a}],or:{sid:"-v876ny"}})}return d({and:[{clock:m,fn:()=>!0,target:t}],or:{sid:"-v6jsxl"}}),c({and:[{clock:u.done,source:f,filter:t,target:u}],or:{sid:"-urpcwu"}}),c({and:[{clock:u.done,filter:t,target:a.prepend(()=>{})}],or:{sid:"-ucb4aq"}}),o&&(j&&d({and:[{clock:o,target:a}],or:{sid:"6lcn0o"}}),t.on(o,()=>!1),d({and:[{clock:o,target:w}],or:{sid:"71ao6f"}})),{tick:a,isRunning:t}}function F(r){if(T.store(r,{sid:"7icamc"}))return r;if(typeof r=="number")return s(r,{and:{name:"$timeout"},sid:"knc3em"});throw new TypeError('timeout parameter in interval method should be number or Store. "'.concat(typeof r,'" was passed'))}export{P as i};
