import{i as V,k as h,r as C,w as D,d as y,m as S,p as u,a1 as $,q as p,e as F,a8 as I,f as i,s as c,U as M,v as x,x as T}from"./effector-vue-composition-1433fac7.js";import{$ as N,a as z,b as q,r as B,s as E,c as k,d as K,_ as L}from"./index-78df8c36.js";import"./effector-77000f8f.js";import"./effector-storage-9a361a45.js";import"./patronum-da9a1d66.js";import"./lodash-es-0b3e6462.js";import"./vueuse-core-e7841df1.js";import"./async-validator-dee29e8b.js";import"./ctrl-f8748455.js";const P=V({name:"DotsSettings",emits:{reset:()=>!0},setup(s,{emit:b}){const d=h(N),_=h(z),g=h(q),a=C([]),n=C();D(_,e=>{a.value=e.map(t=>({...t}))},{immediate:!0}),D(g,e=>{n.value=e?{...e}:null},{immediate:!0});function f(e,t="x",o=0){if(!e||!o)return;const m=a.value.find(r=>r.name===e),w=["x","y"].includes(t);m&&w&&(a.value=a.value.map(r=>r.name===e?{...r,[t]:o}:r))}function l(){if(!a.value.every((t,o)=>{const m=_.value[o];return t.x===m.x&&t.y===m.y})){B();const t=a.value.map(o=>({...o}));E(t)}d.value?k():K()}function v(){k(),B(),b("reset")}return{isDrawing:d,mainDots:a,firstDot:n,setValueToMainDotsByChar:f,handleSubmit:l,handleClickClearButton:v}}});const R={class:"dot-param"},U=["for"],X={class:"dot-param"},Y=["for"],j={class:"button-group"};function A(s,b,d,_,g,a){const n=p("el-input-number"),f=p("el-form-item"),l=p("el-button"),v=p("el-form");return y(),S(v,{"label-position":"top",onSubmit:$(s.handleSubmit,["prevent"])},{default:u(()=>[(y(!0),F(M,null,I(s.mainDots,e=>(y(),S(f,{key:e.name,label:`Dot ${e.name}`,class:"dot-params"},{default:u(()=>[i("div",R,[i("label",{for:`dot-${e.name}-x`,class:"dot-param-label"}," X ",8,U),c(n,{id:`dot-${e.name}-x`,max:1e3,min:0,"model-value":e.x,step:10,class:"dot-param-input","controls-position":"right",onChange:t=>s.setValueToMainDotsByChar(e.name,"x",t)},null,8,["id","model-value","onChange"])]),i("div",X,[i("label",{for:`dot-${e.name}-y`,class:"dot-param-label"}," Y ",8,Y),c(n,{id:`dot-${e.name}-y`,max:1e3,min:0,"model-value":e.y,step:10,class:"dot-param-input","controls-position":"right",onChange:t=>s.setValueToMainDotsByChar(e.name,"y",t)},null,8,["id","model-value","onChange"])])]),_:2},1032,["label"]))),128)),i("div",j,[c(l,{"native-type":"submit",type:"primary",size:"large"},{default:u(()=>[x(T(s.isDrawing?"Pause":"Run"),1)]),_:1}),c(l,{"native-type":"reset",type:"default",size:"large",onClick:$(s.handleClickClearButton,["prevent"])},{default:u(()=>[x(" Clear ")]),_:1},8,["onClick"])])]),_:1},8,["onSubmit"])}const ae=L(P,[["render",A],["__scopeId","data-v-329980ae"]]);export{ae as default};
